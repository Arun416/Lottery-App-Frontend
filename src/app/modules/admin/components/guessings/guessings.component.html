<div class="container">
    <div class="row mx-auto guessings-container g-3">
        <form [formGroup]="guessingDigitFForm" (ngSubmit)="onSubmitGuessing(guessingDigitFForm.value)">
        <div class="col-md-12 col-sm-12 col-xs-12 mb-3">
            <div class="float-end" >
                <button class="btn btn-primary"  [disabled]="isLoading"  style="border-radius: 30px;">
                    <span class="material-symbols-outlined"  [hidden]="isLoading" style="font-size: 16px;vertical-align: middle;">
                        check_circle
                    </span><span style="padding-left: 5px;">Save</span>
                    <i class="px-1 fa fa-spinner fa-spin" *ngIf="isLoading"></i>
                </button>
             </div>
        </div>
        <div class="col-md-12 col-sm-12 col-xs-12 mb-3 pb-3">
            
            <table class="guessing-inputs p-3 gap-4">
                <tbody>
                    <tr class="mb-3 pb-3">
                        <td class="guessing-label">3 Guessing Number</td>
                        <td><h6 style="font-weight: 600;">3 Digits Guessing Number</h6>
                            <textarea class="form-control  input-guessing3" rows="3"  inputmode="numeric" (input)="formatThreeGuessing($event)"  formControlName="GuessingNumber_3digit"></textarea></td>
                    </tr>
                    <tr class="mb-3 pb-3">
                        <td class="guessing-label">4 Guessing Number</td>
                        <td><h6 style="font-weight: 600;">4 Digits Guessing Number</h6> 
                            <textarea class="form-control input-guessing3" rows="3"   inputmode="numeric"   (input)="formatFourGuessing($event)"   formControlName="GuessingNumber_4digit"></textarea></td>
                    </tr>
                </tbody>
            </table>
        </div></form>
        <div class="col-md-12 col-sm-12 col-xs-12  mb-3 pb-3" style="margin: 0;">
            <div class="d-inline-flex gap-2">
                <div><p>Show Entries:</p></div>
                <div>
                    <select (change)="onTableSizesChange($event)">
                        <option *ngFor="let size of pageSizes">{{size}}</option>
                    </select>
                </div>
            </div>
            <div class="float-end ">
                <input class="form-control form-control-sm" placeholder="Search by 3 digit Guessing Number.." 
                [(ngModel)]="searchTerm"  (input)="onSearchLottery(searchTerm)"/>
                
            </div>
            <table class="table  table-striped table-hover table-bordered">
                <thead>
                  <tr style="cursor: pointer; user-select: none; ">
                    <th scope="col" (click)="sort()">Date &nbsp;
                        <span [hidden]="reverse">▼</span>
                        <span [hidden]="!reverse">▲</span></th>
                    <th scope="col">Time</th>
                    <th scope="col">3 Guessing Number</th>
                    <th scope="col">4 Guessing Number</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let guess_no of guessingInfo?.guessdigitInfo | paginate: {
                    id:'listing_pagination',itemsPerPage:isItemsPerPage, currentPage: pagination,totalItems:totalRecords
                  }">
                    <td>{{guess_no.Date | date}}</td>
                    <td>{{guess_no.Time |date: 'shortTime':'UTC+5:30'}}</td>
                    <td>{{guess_no.GuessingNumber_3digit}}</td>
                    <td>{{guess_no.GuessingNumber_4digit}}</td>
                  </tr>
                </tbody>
              </table>
              <div class="d-flex flex-row justify-content-between  pt-2 mt-2">
                <div>
                    <p>Showing {{isItemsPerPage}} out of {{totalRecords}} Entries</p>
                </div>   
                <div class="float-end pe-3">
                    <pagination-controls id="listing_pagination" class="align-items-center"  previousLabel="Previous"
                    nextLabel="Next" (pageChange)="onTablePageChange($event)"></pagination-controls>
                </div>
              </div>
        </div>
    </div>
</div>